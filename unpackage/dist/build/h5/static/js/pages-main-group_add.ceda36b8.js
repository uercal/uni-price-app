(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-main-group_add"],{"0663":function(t,e,i){"use strict";var a=i("c9de"),n=i.n(a);n.a},"0dab":function(t,e,i){"use strict";i.r(e);var a=i("f82a"),n=i("9cc2");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("0663");var c=i("2877"),u=Object(c["a"])(n["default"],a["a"],a["b"],!1,null,"2ee8cf7c",null);e["default"]=u.exports},"701a":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".cu-form-group .title[data-v-2ee8cf7c]{min-width:calc(4em + 15px)}.content[data-v-2ee8cf7c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}.content[data-v-2ee8cf7c]{font-size:14px}.text-grey[data-v-2ee8cf7c]{word-break:break-all}",""])},"9cc2":function(t,e,i){"use strict";i.r(e);var a=i("b180"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},b180:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a481"),i("28a5");var n=a(i("cebc")),s=i("2f62"),c=a(i("376b")),u={data:function(){return{goods_price:[],newPrice:[],group_name:""}},computed:(0,n.default)({},(0,s.mapState)(["goods"])),methods:{fixed:function(t){var e=t.toFixed(2);return"00"==e.split(".")[1]?e.split(".")[0]:e},submit:function(){var t={},e=this.newPrice,i=e.some(function(t){return!t.rate||""==t.rate});if(""==this.group_name)return c.default.showError("分组名称不能为空"),!1;i?c.default.showError("比例不能为空"):(e.map(function(e){t["goods_id["+e.goods_id+"]"]=[e.rate*e.price/100,e.rate]}),t["group_name"]=this.group_name,c.default._post("Member/saveGroup",t,function(t){c.default.showSuccess("成功",function(){uni.navigateBack()})}))},tofixNumber:function(t){t=t.toFixed(2);var e=t.split(".");return"00"==e[1]&&(t=e[0]),t},clearNoNum:function(t,e){t.value=t.value.replace(/[^\d.]/g,""),t.value=t.value.replace(/\.{2,}/g,"."),t.value=t.value.replace(/^\./g,""),t.value=t.value.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t.value=t.value.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3");var i=this;setTimeout(function(){i.newPrice[e].rate=t.value;var a=i.goods_price[e].price*t.value/100;a=i.tofixNumber(a),i.newPrice[e].price=a},1)}},onShow:function(){var t=this;this.goods_price=this.goods,this.goods_price.map(function(e){t.newPrice.push({goods_id:e.goods_id,price:e.price,rate:100})})}};e.default=u},c9de:function(t,e,i){var a=i("701a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("6761cf48",a,!0,{sourceMap:!1,shadowMode:!1})},f82a:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-form",[i("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom"},[i("v-uni-view",{staticClass:"action text-title text-bold"},[i("v-uni-text",{staticClass:"cuIcon-title text-orange"}),t._v("分组信息")],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("分组名称")]),i("v-uni-input",{attrs:{placeholder:"请填写分组名称",name:"input"},model:{value:t.group_name,callback:function(e){t.group_name=e},expression:"group_name"}})],1),i("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom margin-top"},[i("v-uni-view",{staticClass:"action text-bold"},[i("v-uni-text",{staticClass:"cuIcon-title text-orange"}),t._v("价格比例")],1)],1),i("v-uni-view",{staticClass:"cu-list menu sm-border card-menu margin-top'"},[i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"text-black",staticStyle:{width:"35%"}},[t._v("商品名称")]),i("v-uni-text",{staticClass:"text-black",staticStyle:{width:"20%"}},[t._v("原价")]),i("v-uni-text",{staticClass:"text-black",staticStyle:{width:"20%"}},[t._v("现价")]),i("v-uni-view",{staticStyle:{width:"20%",display:"flex","align-items":"center"}},[i("v-uni-text",{staticClass:"text-black"},[t._v("比例")])],1)],1)],1),t._l(t.goods_price,function(e,a){return i("v-uni-view",{key:e.goods_id,staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"text-grey",staticStyle:{width:"35%"}},[t._v(t._s(e.goods_name))]),i("v-uni-text",{staticClass:"text-grey",staticStyle:{width:"20%"}},[t._v(t._s(e.price)+"元")]),i("v-uni-text",{staticClass:"text-grey",staticStyle:{width:"20%"},domProps:{innerHTML:t._s(t.newPrice[a].price+"元")}}),i("v-uni-view",{staticStyle:{width:"20%",display:"flex","align-items":"center"}},[i("v-uni-input",{attrs:{placeholder:"比例",name:"input",type:"digit"},on:{input:function(e){e=t.$handleEvent(e),t.clearNoNum(e.target,a)}},model:{value:t.newPrice[a].rate,callback:function(e){t.$set(t.newPrice[a],"rate",e)},expression:"newPrice[index].rate"}}),i("v-uni-view",{staticClass:"cu-capsule radius"},[i("v-uni-label",{staticClass:"cu-tag"},[t._v("%")])],1)],1)],1)],1)})],2),i("v-uni-view",{staticClass:"padding flex flex-direction"},[i("v-uni-button",{staticClass:"cu-btn bg-blue margin-tb-sm lg",on:{click:function(e){e=t.$handleEvent(e),t.submit(e)}}},[t._v("保存")])],1)],1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})}}]);