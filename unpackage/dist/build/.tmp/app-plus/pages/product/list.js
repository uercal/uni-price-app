(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/list"],{3048:function(e,n,A){"use strict";A.r(n);var t=A("92b0"),o=A.n(t);for(var i in t)"default"!==i&&function(e){A.d(n,e,function(){return t[e]})}(i);n["default"]=o.a},"4f27":function(e,n,A){"use strict";var t=A("7b59"),o=A.n(t);o.a},"5d27":function(e,n,A){"use strict";var t=function(){var e=this,n=e.$createElement;e._self._c},o=[];A.d(n,"a",function(){return t}),A.d(n,"b",function(){return o})},"7b59":function(e,n){throw new Error("Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\nModuleBuildError: Module build failed (from ./node_modules/sass-loader/lib/loader.js):\nE:\\UNI\\HBuilderX\\plugins\\compile-node-sass\\node_modules\\lodash.clonedeep\\index.js:1\n(function (exports, require, module, __filename, __dirname) { ,iBAAiB,CAAC,CAAC;IAC9B,QAAQ,IAAI,mBAAmB,KAAK,MAAM,CAAC,iBAAiB,EAAE;IAC9D,YAAY,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,OAAO,YAAY,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE,mBAAmB,CAAC,CAAC;IACnG,SAAS;IACT,QAAQ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACxC,QAAQ,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IACnC,QAAQ,OAAO;IACf,YAAY,IAAI,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE;IACzD,gBAAgB,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC;IACvC,gBAAgB,SAAS,CAAC,QAAQ,GAAG,aAAa,CAAC,YAAY,CAAC,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IAC5G,aAAa;IACb,SAAS,CAAC;IACV,KAAK,CAAC;IACN,IAAI,aAAa,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,sBAAsB,EAAE;IACpF,QAAQ,IAAI,SAAS,GAAG,EAAE,MAAM,EAAE,sBAAsB,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;IACzE,QAAQ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACxC,QAAQ,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IACnC,QAAQ,OAAO;IACf,YAAY,IAAI,EAAE,UAAU,OAAO,EAAE;IACrC,gBAAgB,IAAI,YAAY,GAAG,CAAC,OAAO,OAAO,KA\n\nSyntaxError: Unexpected token ,\n    at createScript (vm.js:80:10)\n    at Object.runInThisContext (vm.js:139:10)\n    at Module._compile (module.js:616:28)\n    at Object.Module._extensions..js (module.js:663:10)\n    at Module.load (module.js:565:32)\n    at tryModuleLoad (module.js:505:12)\n    at Function.Module._load (module.js:497:3)\n    at Module.require (module.js:596:17)\n    at require (internal/module.js:11:18)\n    at Object.<anonymous> (E:\\UNI\\HBuilderX\\plugins\\compile-node-sass\\node_modules\\node-sass-china\\lib\\index.js:6:15)\n    at Module._compile (module.js:652:30)\n    at Object.Module._extensions..js (module.js:663:10)\n    at Module.load (module.js:565:32)\n    at tryModuleLoad (module.js:505:12)\n    at Function.Module._load (module.js:497:3)\n    at Module.require (module.js:596:17)\n    at runLoaders (E:\\UNI\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\webpack\\lib\\NormalModule.js:301:20)\n    at E:\\UNI\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\loader-runner\\lib\\LoaderRunner.js:367:11\n    at E:\\UNI\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\loader-runner\\lib\\LoaderRunner.js:233:18\n    at runSyncOrAsync (E:\\UNI\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\loader-runner\\lib\\LoaderRunner.js:143:3)\n    at iterateNormalLoaders (E:\\UNI\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\loader-runner\\lib\\LoaderRunner.js:232:2)\n    at iterateNormalLoaders (E:\\UNI\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\loader-runner\\lib\\LoaderRunner.js:221:10)\n    at E:\\UNI\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\loader-runner\\lib\\LoaderRunner.js:236:3\n    at Object.context.callback (E:\\UNI\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\loader-runner\\lib\\LoaderRunner.js:111:13)\n    at Object.module.exports (E:\\UNI\\HBuilderX\\plugins\\uniapp-cli\\node_modules\\@dcloudio\\vue-cli-plugin-uni\\packages\\webpack-preprocess-loader\\index.js:60:10)")},"92b0":function(e,n,A){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=o(A("a34a"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,n,A,t,o,i,r){try{var a=e[i](r),s=a.value}catch(u){return void A(u)}a.done?n(s):Promise.resolve(s).then(t,o)}function r(e){return function(){var n=this,A=arguments;return new Promise(function(t,o){var r=e.apply(n,A);function a(e){i(r,t,o,a,s,"next",e)}function s(e){i(r,t,o,a,s,"throw",e)}a(void 0)})}}var a=function(){return A.e("components/uni-load-more/uni-load-more").then(A.bind(null,"5b76"))},s={components:{uniLoadMore:a},data:function(){return{cateMaskState:0,headerPosition:"fixed",headerTop:"0px",loadingType:"more",filterIndex:0,cateId:0,priceOrder:0,cateList:[],goodsList:[]}},onLoad:function(e){this.cateId=e.tid,this.loadCateList(e.fid,e.sid),this.loadData()},onPageScroll:function(e){e.scrollTop>=0?this.headerPosition="fixed":this.headerPosition="absolute"},onPullDownRefresh:function(){this.loadData("refresh")},onReachBottom:function(){this.loadData()},methods:{loadCateList:function(){var e=r(t.default.mark(function e(n,A){var o,i;return t.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.json("cateList");case 2:o=e.sent,i=o.filter(function(e){return e.pid==n}),i.forEach(function(e){var n=o.filter(function(n){return n.pid==e.id});e.child=n}),this.cateList=i;case 6:case"end":return e.stop()}},e,this)}));function n(n,A){return e.apply(this,arguments)}return n}(),loadData:function(){var n=r(t.default.mark(function n(){var A,o,i,r=this,a=arguments;return t.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(A=a.length>0&&void 0!==a[0]?a[0]:"add",o=a.length>1?a[1]:void 0,"add"!==A){n.next=8;break}if("nomore"!==this.loadingType){n.next=5;break}return n.abrupt("return");case 5:this.loadingType="loading",n.next=9;break;case 8:this.loadingType="more";case 9:return n.next=11,this.$api.json("goodsList");case 11:i=n.sent,"refresh"===A&&(this.goodsList=[]),1===this.filterIndex&&i.sort(function(e,n){return n.sales-e.sales}),2===this.filterIndex&&i.sort(function(e,n){return 1==r.priceOrder?e.price-n.price:n.price-e.price}),this.goodsList=this.goodsList.concat(i),this.loadingType=this.goodsList.length>20?"nomore":"more","refresh"===A&&(1==o?e.hideLoading():e.stopPullDownRefresh());case 18:case"end":return n.stop()}},n,this)}));function A(){return n.apply(this,arguments)}return A}(),tabClick:function(n){this.filterIndex===n&&2!==n||(this.filterIndex=n,this.priceOrder=2===n?1===this.priceOrder?2:1:0,e.pageScrollTo({duration:300,scrollTop:0}),this.loadData("refresh",1),e.showLoading({title:"正在加载"}))},toggleCateMask:function(e){var n=this,A="show"===e?10:300,t="show"===e?1:0;this.cateMaskState=2,setTimeout(function(){n.cateMaskState=t},A)},changeCate:function(n){this.cateId=n.id,this.toggleCateMask(),e.pageScrollTo({duration:300,scrollTop:0}),this.loadData("refresh",1),e.showLoading({title:"正在加载"})},navToDetailPage:function(n){var A=n.title;e.navigateTo({url:"/pages/product/product?id=".concat(A)})},stopPrevent:function(){}}};n.default=s}).call(this,A("6e42")["default"])},f494:function(e,n,A){"use strict";A.r(n);var t=A("5d27"),o=A("3048");for(var i in o)"default"!==i&&function(e){A.d(n,e,function(){return o[e]})}(i);A("4f27");var r=A("2877"),a=Object(r["a"])(o["default"],t["a"],t["b"],!1,null,null,null);n["default"]=a.exports}},[["ae24","common/runtime","common/vendor"]]]);